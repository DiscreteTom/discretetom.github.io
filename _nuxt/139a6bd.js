(window.webpackJsonp=window.webpackJsonp||[]).push([[104,354],{1297:function(t,n,e){const r={render:function(){var t=this;t.$createElement;return t._self._c,t._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"frontmatter-markdown"},[r("h2",{attrs:{id:"前言"}},[t._v("前言")]),t._v(" "),r("p",[t._v("最近学习了不少游戏客户端架构相关的东西，包括"),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1JB4y1S7hk"}},[t._v("此视频")]),t._v("，"),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1vg411g7Fn"}},[t._v("此视频")]),t._v("和"),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1Wi4y157cE"}},[t._v("此视频")])]),t._v(" "),r("p",[t._v("不同大佬的核心目标都是一样的：构建高内聚、低耦合的游戏客户端代码，使大型项目的开发更加可控，提高业务逻辑的可扩展性等。")]),t._v(" "),r("p",[t._v("但是不同大佬的实现方式是不一样的，使用的工具也不一样。")]),t._v(" "),r("p",[t._v("我想基于我自己的需求和场景，结合各位大佬的设计思路，提出自己的客户端架构设计哲学。所以就有了本文。所以核心目标都是一样的，只是代码规范/实现规范不同。")]),t._v(" "),r("p",[t._v("以下便是我提出的设计规范，欢迎讨论。")]),t._v(" "),r("h2",{attrs:{id:"架构图"}},[t._v("架构图")]),t._v(" "),r("p",[r("img",{attrs:{src:e(485),alt:"Architecture"}})]),t._v(" "),r("h2",{attrs:{id:"操作流"}},[t._v("操作流")]),t._v(" "),r("h3",{attrs:{id:"程序初始化"}},[t._v("程序初始化")]),t._v(" "),r("ol",[r("li",[t._v("因为 APP 是 Scene 中的唯一顶层 GameObject，所以 APP 一定会被首先创建")]),t._v(" "),r("li",[t._v("APP 创建 Core")]),t._v(" "),r("li",[t._v("APP 创建各个 Controller，并把 Core 提供给各个 Controller")]),t._v(" "),r("li",[t._v("Controller 从 Scene 中获取需要管理的 View，并注册 View 的事件回调函数。Controller 可能还需要注册 Core 里面的回调函数")])]),t._v(" "),r("h3",{attrs:{id:"处理用户输入或其他事件"}},[t._v("处理用户输入或其他事件")]),t._v(" "),r("ol",[r("li",[t._v("View 获得用户输入或其他事件（比如碰撞）")]),t._v(" "),r("li",[t._v("通过回调函数传给自己的 Controller")])]),t._v(" "),r("h3",{attrs:{id:"创建新的-view-gameobject"}},[t._v("创建新的 View GameObject")]),t._v(" "),r("ol",[r("li",[t._v("由业务逻辑，也就是 Controller，创建对应的 View GameObject")]),t._v(" "),r("li",[t._v("创建完毕后，Controller 可以直接拿到新的 View")])]),t._v(" "),r("h3",{attrs:{id:"生命周期管理"}},[t._v("生命周期管理")]),t._v(" "),r("p",[t._v("比如 Start/Update 之类的，都仅在 APP 里面进行。APP 可以驱动 Controller 实现逻辑 Update")]),t._v(" "),r("h3",{attrs:{id:"业务逻辑与表现的分离团队合作"}},[t._v("业务逻辑与表现的分离，团队合作")]),t._v(" "),r("p",[t._v("业务逻辑基本都在 Core 里面进行。Controller 通过 Command 触发业务逻辑，Core 通过 Event 通知 Controller 更新视图")]),t._v(" "),r("p",[t._v("这样，在团队分工合作中，可以由高级程序员编写 Command/Events，由初级程序员实现 View/Controller。只要接口（也就是 Command/Events）被定义好即可")]),t._v(" "),r("h2",{attrs:{id:"app"}},[t._v("APP")]),t._v(" "),r("p",[t._v("原则：")]),t._v(" "),r("ul",[r("li",[t._v("整个 Scene 中只有一个根节点：APP")]),t._v(" "),r("li",[t._v("APP 作为整个 Scene 的 Main 函数，一切逻辑都应该从这里出发")]),t._v(" "),r("li",[t._v("APP 会创建所需的资源，并保存在 Core 里面，然后注入到 Controller 里面，以便 Controller 使用")]),t._v(" "),r("li",[t._v("只有 APP 可以使用 Unity 的生命周期函数（比如 Start/Update）\n"),r("ul",[r("li",[t._v("不要在 View 里面处理时序和生命周期函数")]),t._v(" "),r("li",[t._v("可以在 Controller 里面处理生命周期\n"),r("ul",[r("li",[t._v("Controller 没有继承 MonoBehaviour，所以不会被 Unity 调用，需要手动被 APP 调用")])])])])])]),t._v(" "),r("p",[t._v("示例：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token type-list"}},[r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MonoBehaviour")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// controllers")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UI")]),t._v(" ui"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Player")]),t._v(" player"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// init core")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Core")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// init controllers, inject core")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ui "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("UI")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("player "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Player")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ui"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("player"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"core"}},[t._v("Core")]),t._v(" "),r("h3",{attrs:{id:"禁止单例"}},[t._v("禁止单例")]),t._v(" "),r("p",[t._v("单例的坏处：")]),t._v(" "),r("ul",[r("li",[t._v("单例可以被全局访问，无法规范化访问控制，导致引用关系复杂")]),t._v(" "),r("li",[t._v("单例只能创建一个。当我们需要扩展功能的时候（比如：单个玩家变为两个玩家），可能要大改")])]),t._v(" "),r("p",[t._v("原则：")]),t._v(" "),r("ul",[r("li",[t._v("除非你特别确定，否则不要在任何地方使用单例、静态类")]),t._v(" "),r("li",[t._v("使用可以被实例化的类（可以被 new 出来的类），替代单例")]),t._v(" "),r("li",[t._v("使用上文的 APP，在程序入口处创建这些对象，保存在 Core 里面，然后注入到其他 Controller 中")])]),t._v(" "),r("h3",{attrs:{id:"scriptableobject"}},[t._v("ScriptableObject")]),t._v(" "),r("p",[t._v("直接在 Scene 里面通过 MonoBehaviour 中的 public 变量，或 SerializeField 变量，实现修改变量或拖拽绑定，本身就是不稳定，并且难以查询和管理的。多人编辑同一个 Scene 也难以实现版本控制")]),t._v(" "),r("p",[t._v("所以，这些需要在编辑器修改的变量，建议创建 ScriptableObject，以文件的形式保存这些数据（就像保存了一个 JSON 文件，但是可以在编辑器里面修改），同时这些数据还可以被多次引用")]),t._v(" "),r("p",[t._v("当这些数据需要被使用时，也不要通过拖拽绑定。可以使用 Addressables 等资源管理插件，在代码里面获取资源。Code is Law，代码里面的才是最持久的")]),t._v(" "),r("p",[t._v("因为 ScriptableObject 自身是模块化的，不会随着 Scene 改变，可以进行细粒度的版本控制，所以可以在 ScriptableObject 里面进行拖拽绑定")]),t._v(" "),r("p",[t._v("初始化时需要的数据，可以在 APP 的 Start 里面进行获取")]),t._v(" "),r("p",[t._v("示例：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token type-list"}},[r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MonoBehaviour")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// construct core")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Core")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sync fetch")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Config "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Addressables"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token generic-method"}},[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("LoadAssetAsync")]),r("span",{pre:!0,attrs:{class:"token generic class-name"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Config"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Assets/Config.asset"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("WaitForCompletion")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"响应式"}},[t._v("响应式")]),t._v(" "),r("p",[t._v("有时我们可能希望观察 Model 中的数据变化，从而修改视图")]),t._v(" "),r("p",[t._v("可以实现一个简单的 Watch 类")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watch"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" onChange"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Watch")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChange "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("T")]),t._v(" Value "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" old "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChange"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" old"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityAction"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChange"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("RemoveListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityAction"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChange"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("RemoveListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("p",[t._v("这样就可以创建响应式 Model")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Model")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("Watch"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" Score "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Model")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Score "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Watch"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("p",[t._v("赋值和监听：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeController")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SomeController")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// assignment")]),t._v("\n    core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Score"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// watch for changes")]),t._v("\n    core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Score"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" old"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Debug"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("p",[t._v("如果不想自己实现 Watch，可以直接使用"),r("a",{attrs:{href:"https://github.com/DiscreteTom/unity3d-utils/tree/main/General/Watch"}},[t._v("这里的代码片段")])]),t._v(" "),r("h3",{attrs:{id:"事件消息"}},[t._v("事件/消息")]),t._v(" "),r("p",[t._v("可以在 Core 中保存一个全局使用的 EventBus。当然，也不能是单例/静态类")]),t._v(" "),r("p",[t._v("示例：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sample events")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Events")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" SomeEvent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeView"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" AnotherEvent "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("UnityEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeView"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Events "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Events")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create event bus")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someController "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("SomeController")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeController")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeView"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" views"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SomeController")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// listen to events")]),t._v("\n    core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Events"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AnotherEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// trigger events")]),t._v("\n    core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Events"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SomeEvent"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"controllers"}},[t._v("Controllers")]),t._v(" "),r("p",[t._v("原则：")]),t._v(" "),r("ul",[r("li",[t._v("不继承 MonoBehaviour\n"),r("ul",[r("li",[t._v("所以可以被 new 出来")])])]),t._v(" "),r("li",[t._v("Controller 负责处理业务逻辑")]),t._v(" "),r("li",[t._v("Controller 可以创建自己的生命周期函数（比如 Start/Update），然后被 App 调用\n"),r("ul",[r("li",[t._v("因为 Controller 没有继承 MonoBehaviour，所以生命周期不会被 Unity 管理，而是被 App 管理")])])]),t._v(" "),r("li",[t._v("Controller 不会直接管理输入/输出，或视图相关的操作，而是通过 View 来修改视图，或者获得视图的事件")]),t._v(" "),r("li",[t._v("Controller 可以通过 "),r("code",{pre:!0},[t._v("GameObject.Find")]),t._v(" 找到视图绑定的对象，或者直接使用 "),r("code",{pre:!0},[t._v("GameObject.Instantiate")]),t._v(" 创建视图对象\n"),r("ul",[r("li",[t._v("如果是其他 Controller 创建的视图对象，可以通过 EventBus 捕获")])])]),t._v(" "),r("li",[t._v("Controller 里面保存的 View 也可以是接口，这样不同的 View 可以复用一个 Controller")]),t._v(" "),r("li",[t._v("Controller 之间是互相无法感知的，需要通过 Core 进行 Controller 之间的交互")]),t._v(" "),r("li",[t._v("Controller 在程序一开始就会被全部创建出来。View 可以被动态创建和删除，而 Controller 不会")]),t._v(" "),r("li",[t._v("Controller 中也可以使用其他的设计模式，比如配合 Command")])]),t._v(" "),r("p",[t._v("示例：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeController")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeView")]),t._v(" view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SomeController")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// find view object and get view")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GameObject"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Find")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Some"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token generic-method"}},[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetComponent")]),r("span",{pre:!0,attrs:{class:"token generic class-name"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeView"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or, create object and get view")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GameObject"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Instantiate")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SomeData"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SomePrefab"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token generic-method"}},[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetComponent")]),r("span",{pre:!0,attrs:{class:"token generic class-name"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeView"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// init view")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// watch for events from view")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnGameStart")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token range operator"}},[t._v("..")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// update view")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetTitleText")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Some"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token range operator"}},[t._v("..")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"配合-command-示例"}},[t._v("配合 Command 示例")]),t._v(" "),r("p",[t._v("使用 Command，可以把实际的业务逻辑，与 View/Controller 进行拆分，这样不同的 View/Controller 可以复用相同的业务逻辑")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ICommand")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Exec")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeCommand")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token type-list"}},[r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ICommand")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Exec")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SomeValue"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeController")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SomeController")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core")]),t._v(" core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("SomeCommand")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Exec")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("core"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"view"}},[t._v("View")]),t._v(" "),r("p",[t._v("原则：")]),t._v(" "),r("ul",[r("li",[t._v("负责处理用户输入、触发事件、显示输出，但是不实现业务逻辑")]),t._v(" "),r("li",[t._v("继承 MonoBehaviour，从而可以获取到 OnCollisionEnter 等事件\n"),r("ul",[r("li",[t._v("仅把事件暴露给 Controller，自身不执行业务逻辑操作")])])]),t._v(" "),r("li",[t._v("View 里面不能执行 Unity 的生命周期函数，因为要严格被 App 管理\n"),r("ul",[r("li",[t._v("比如：不能有 Start/Awake 函数，但是可以自行创建一个 Init 函数用来做初始化。Init 函数会被 Controller 调用")])])]),t._v(" "),r("li",[t._v("如果 View 比较简单，可以不创建 View 脚本，直接使用 Controller 对 View GameObject 进行管理")])]),t._v(" "),r("p",[t._v("示例：")]),t._v(" "),r("pre",{staticClass:"language-cs"},[r("code",{pre:!0,attrs:{class:"language-cs"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeView")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token type-list"}},[r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MonoBehaviour")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityEvent")]),t._v(" onGameStart"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onGameStart "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("UnityEvent")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnGameStart")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnityAction")]),t._v(" f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onGameStart"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddListener")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetTitleText")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" text"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token range operator"}},[t._v("..")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token return-type class-name"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnCollisionEnter")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collision")]),t._v(" c"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gameObject"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Some"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onGameStart"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"示例项目"}},[t._v("示例项目")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/DiscreteTom/BBTAN"}},[t._v("复刻了一波 BBTAN")])])])}]};t.exports={attributes:{title:"游戏客户端架构设计思路",description:"统一入口、时序管理、MVC、分层等",tags:["Gaming / 游戏","Unity3D"]},vue:{render:r.render,staticRenderFns:r.staticRenderFns,component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=r.render,this.$options.staticRenderFns=r.staticRenderFns}}}}},485:function(t,n,e){t.exports=e.p+"img/47-1.b53f30d.png"}}]);