(window.webpackJsonp=window.webpackJsonp||[]).push([[24,475,476,477,478,479,480,481,482,483,484,485,486,487,488],{1197:function(_,v,t){const n={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var _=this,v=_.$createElement,n=_._self._c||v;return n("div",{staticClass:"frontmatter-markdown"},[n("h2",{attrs:{id:"外围设备的定时方式和信息交换方式"}},[_._v("外围设备的定时方式和信息交换方式")]),_._v(" "),n("p",[_._v("根据外设速度把外设分类：")]),_._v(" "),n("ul",[n("li",[_._v("速度极慢或简单的外设\n"),n("ul",[n("li",[_._v("CPU只需要接收或者发送数据即可。"),n("strong",[_._v("无条件传送")])])])]),_._v(" "),n("li",[_._v("慢速或者中速的设备\n"),n("ul",[n("li",[_._v("异步传送方式（应答）")])])]),_._v(" "),n("li",[_._v("高速外设\n"),n("ul",[n("li",[_._v("同步传送")])])])]),_._v(" "),n("p",[_._v("数据传输方式：")]),_._v(" "),n("ul",[n("li",[_._v("程序查询方式(Polling)")]),_._v(" "),n("li",[_._v("程序中断方式")]),_._v(" "),n("li",[_._v("直接存储器存取(DMA: Direct Memory Access)")]),_._v(" "),n("li",[_._v("通道方式（过时）")])]),_._v(" "),n("h3",{attrs:{id:"程序查询方式"}},[_._v("程序查询方式")]),_._v(" "),n("p",[_._v("最简单的输入输出方式")]),_._v(" "),n("p",[n("img",{attrs:{src:t(627),alt:"8-3"}})]),_._v(" "),n("ul",[n("li",[_._v("CPU需要不断查询并等待慢速外设")]),_._v(" "),n("li",[_._v("效率低，CPU与外设不能并行工作。如果外设多，可能还需要链式查询，慢")]),_._v(" "),n("li",[_._v("接口电路简单，硬件开销小")])]),_._v(" "),n("h3",{attrs:{id:"程序中断方式"}},[_._v("程序中断方式")]),_._v(" "),n("p",[_._v("外设通过接口向CPU发出中断请求，CPU有能力执行中断时转去执行中断，执行完毕后再回到主程序")]),_._v(" "),n("p",[n("img",{attrs:{src:t(628),alt:"8-1"}})]),_._v(" "),n("p",[n("strong",[_._v("中断系统")]),_._v("是计算机实现中断功能的"),n("strong",[_._v("软硬件")]),_._v("总称，一般包括：")]),_._v(" "),n("ul",[n("li",[_._v("在CPU中设置的中断机构")]),_._v(" "),n("li",[_._v("在系统中设置的中断控制器")]),_._v(" "),n("li",[_._v("在软件上设置相应的中断服务程序")])]),_._v(" "),n("p",[_._v("中断处理过程：")]),_._v(" "),n("ol",[n("li",[_._v("中断请求")]),_._v(" "),n("li",[_._v("中断排队与判优")]),_._v(" "),n("li",[_._v("中断响应\n"),n("ol",[n("li",[_._v("暂时中断主程序（即现在执行的程序），发出中断响应信号")]),_._v(" "),n("li",[_._v("保存断点（即返回地址）")]),_._v(" "),n("li",[_._v("关中断（不再允许中断）")]),_._v(" "),n("li",[_._v("查找中断源，获取中断服务程序的入口地址")])])]),_._v(" "),n("li",[_._v("中断处理\n"),n("ol",[n("li",[_._v("保护现场（即保护主程序目前的状态）")]),_._v(" "),n("li",[_._v("中断服务（即给中断源提供服务）")])])]),_._v(" "),n("li",[_._v("恢复现场并中断返回，开中断（允许中断）")])]),_._v(" "),n("p",[n("img",{attrs:{src:t(629),alt:"8-4"}})]),_._v(" "),n("p",[_._v("中断源的识别：")]),_._v(" "),n("ul",[n("li",[_._v("单级中断中采用"),n("strong",[_._v("串行排队链")]),_._v("实现公共请求线的中断源判优识别")]),_._v(" "),n("li",[_._v("也可以采用"),n("strong",[_._v("中断控制器")]),_._v("判断")])]),_._v(" "),n("p",[_._v("转中断服务程序的方法：")]),_._v(" "),n("ul",[n("li",[_._v("预先规定中断服务程序的入口地址")]),_._v(" "),n("li",[_._v("或使用中断向量（类似于设备的名字），通过链式查表的方式找到入口地址")])]),_._v(" "),n("p",[_._v("如图，使用中断向量和中断控制器，首先根据中断控制器获取中断向量")]),_._v(" "),n("p",[n("img",{attrs:{src:t(630),alt:"8-5"}})]),_._v(" "),n("p",[_._v("然后根据中断向量链式查找设备入口地址")]),_._v(" "),n("p",[n("img",{attrs:{src:t(631),alt:"8-6"}})]),_._v(" "),n("p",[n("strong",[_._v("单级中断")]),_._v("不允许其他程序在中断中再次中断，中断响应不允许嵌套")]),_._v(" "),n("p",[n("strong",[_._v("多级中断")]),_._v("通常称为"),n("strong",[_._v("中断嵌套方式")]),_._v("，优先级高的中断可以打断优先级低的中断。类似于高级语言中的函数嵌套。"),n("strong",[_._v("使用堆栈保存现场")])]),_._v(" "),n("p",[n("img",{attrs:{src:t(632),alt:"8-7"}})]),_._v(" "),n("p",[n("strong",[_._v("二维多级中断结构")])]),_._v(" "),n("p",[n("img",{attrs:{src:t(633),alt:"8-8"}})]),_._v(" "),n("h3",{attrs:{id:"dma方式"}},[_._v("DMA方式")]),_._v(" "),n("p",[_._v("正常情况下外设从内存获得数据需要通过CPU的中转。而CPU为运算设计，所以单独设计一个用于数据转移的部件"),n("strong",[_._v("DMA控制器")])]),_._v(" "),n("p",[_._v("基本思想：通过硬件实现主存与IO设备的"),n("strong",[_._v("直接数据传送")]),_._v("，传送过程中"),n("strong",[_._v("无需CPU干预")]),_._v("，速度快")]),_._v(" "),n("p",[n("img",{attrs:{src:t(634),alt:"8-2"}})]),_._v(" "),n("p",[_._v("过程：")]),_._v(" "),n("ol",[n("li",[_._v("申请阶段 - DMA控制器收到DMA传送请求后向CPU发出总线请求信号申请占用总线")]),_._v(" "),n("li",[_._v("响应阶段 - CPU响应总线请求，释放总线，回送总线应答信号，表示已经让出总线")]),_._v(" "),n("li",[_._v("数据传送阶段 - DMA控制器收到总线应答信号后占用总线，分别向存储器和外设发出读写控制信号，完成数据传送操作，记录传送字的个数")]),_._v(" "),n("li",[_._v("传送结束阶段 - 规定字数传送完毕后DMA控制器以中断方式或状态位的方式向CPU报告，释放总线，CPU重新占用总线")])]),_._v(" "),n("p",[n("img",{attrs:{src:t(635),alt:"8-9"}})]),_._v(" "),n("p",[_._v("DMA传送方式：")]),_._v(" "),n("ul",[n("li",[_._v("成组传送\n"),n("ul",[n("li",[_._v("传送过程中CPU停止访存")]),_._v(" "),n("li",[_._v("控制简单，适用于数据传输率很高的设备")]),_._v(" "),n("li",[_._v("但是CPU无法处理紧急事件，数据块也不能太大")])])])]),_._v(" "),n("p",[n("img",{attrs:{src:t(636),alt:"8-10"}})]),_._v(" "),n("ul",[n("li",[_._v("周期窃取\n"),n("ul",[n("li",[_._v("每次占用一个CPU周期，只让CPU暂停工作一个周期")]),_._v(" "),n("li",[_._v("但是总线申请和归还存在过多的时间开销")])])])]),_._v(" "),n("p",[n("img",{attrs:{src:t(637),alt:"8-11"}})]),_._v(" "),n("ul",[n("li",[_._v("DMA与CPU交替访存\n"),n("ul",[n("li",[_._v("不需要总线使用权的申请与归还，总线使用权通过C1和C2分时进行(C1+C2=CPU周期)")]),_._v(" "),n("li",[_._v("也称为"),n("strong",[_._v("透明DMA方式")]),_._v("，CPU不停止主程序也不等待")]),_._v(" "),n("li",[_._v("前提条件：CPU工作周期比内存存取周期长很多")])])])]),_._v(" "),n("p",[n("img",{attrs:{src:t(638),alt:"8-12"}})]),_._v(" "),n("h3",{attrs:{id:"通道方式"}},[_._v("通道方式")]),_._v(" "),n("ul",[n("li",[n("strong",[_._v("通道")]),_._v("是计算机系统中代替CPU管理外设的独立部件，是一种"),n("strong",[_._v("能执行有限IO指令集的处理机")])]),_._v(" "),n("li",[_._v("一个主机可以连接几个通道，每个通道可以连接多个IO设备")]),_._v(" "),n("li",[_._v("通道完成IO操作而不需CPU介入，数据交换结束后向CPU发出中断请求交换数据")])]),_._v(" "),n("p",[_._v("通道类型：")]),_._v(" "),n("ul",[n("li",[_._v("选择通道\n"),n("ul",[n("li",[_._v("选择一台外设独占整个通道，以成组传送的方式传送数据块")]),_._v(" "),n("li",[_._v("效率高，适合快速设备")])])])]),_._v(" "),n("p",[n("img",{attrs:{src:t(639),alt:"8-13"}})]),_._v(" "),n("ul",[n("li",[_._v("字节多路通道\n"),n("ul",[n("li",[_._v("简单的共享信道")]),_._v(" "),n("li",[_._v("分时处理，面向中低速字符设备")])])])]),_._v(" "),n("p",[n("img",{attrs:{src:t(640),alt:"8-14"}})]),_._v(" "),n("ul",[n("li",[_._v("数组多路通道\n"),n("ul",[n("li",[_._v("多个设备以数据块为单位交叉使用通道。结合了以上两种方式")]),_._v(" "),n("li",[_._v("使用多个子通道实现")]),_._v(" "),n("li",[_._v("效率高，但控制复杂")])])])])])}]};_.exports={attributes:{layout:"collection",title:"输入与输出系统",collection:"ComputerOrganizationPrinciple"},vue:{render:n.render,staticRenderFns:n.staticRenderFns,component:{data:function(){return{templateRender:null}},render:function(_){return this.templateRender?this.templateRender():_("div","Rendering")},created:function(){this.templateRender=n.render,this.$options.staticRenderFns=n.staticRenderFns}}}}},627:function(_,v,t){_.exports=t.p+"img/e613bc9.png"},628:function(_,v,t){_.exports=t.p+"img/9fec7d2.png"},629:function(_,v,t){_.exports=t.p+"img/1f9740b.png"},630:function(_,v,t){_.exports=t.p+"img/86685b8.png"},631:function(_,v,t){_.exports=t.p+"img/409c472.png"},632:function(_,v,t){_.exports=t.p+"img/9926955.png"},633:function(_,v,t){_.exports=t.p+"img/bdc70f0.png"},634:function(_,v,t){_.exports=t.p+"img/dcc3b56.png"},635:function(_,v,t){_.exports=t.p+"img/68301cc.png"},636:function(_,v,t){_.exports=t.p+"img/9d494c6.png"},637:function(_,v,t){_.exports=t.p+"img/1646684.png"},638:function(_,v,t){_.exports=t.p+"img/89ec251.png"},639:function(_,v,t){_.exports=t.p+"img/a762680.png"},640:function(_,v,t){_.exports=t.p+"img/70b47ae.png"}}]);