(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{1176:function(v,_){const e={render:function(){var v=this;v.$createElement;return v._self._c,v._m(0)},staticRenderFns:[function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("div",{staticClass:"frontmatter-markdown"},[e("h2",{attrs:{id:"前言"}},[v._v("前言")]),v._v(" "),e("p",[v._v("本文是观看"),e("a",{attrs:{href:"https://www.bilibili.com/video/bv1ut411a7ro"}},[v._v("此视频")]),v._v("时整理的笔记，只记录了我觉得有价值的内容，用来查阅而不是用来学习。不一定适合小白入门Linux。")]),v._v(" "),e("p",[v._v("本文中的Linux系统为CentOS，不同系统在一些细节上会有偏差")]),v._v(" "),e("p",[v._v("本文中的一些描述混合了我的奇妙理解，添加了一些云计算相关知识")]),v._v(" "),e("p",[v._v("有些内容与"),e("a",{attrs:{href:"/academic/LinuxProgrammingEnvironment/"}},[v._v("大学的笔记")]),v._v("重复，建议先看大学的笔记")]),v._v(" "),e("h2",{attrs:{id:"shell"}},[v._v("Shell")]),v._v(" "),e("h3",{attrs:{id:"概述"}},[v._v("概述")]),v._v(" "),e("p",[v._v("Linux通常用Bash，Unix通常用C-shell。大致相同，由细微区别。可以在"),e("code",{pre:!0},[v._v("/etc/shells")]),v._v("查看支持的shell")]),v._v(" "),e("p",[v._v("shell脚本文件后缀为"),e("code",{pre:!0},[v._v(".sh")])]),v._v(" "),e("p",[v._v("如果一个拥有"),e("code",{pre:!0},[v._v("x")]),v._v("权限的文本文件的开头有类似"),e("code",{pre:!0},[v._v("#!/bin/bash")]),v._v("的一行（称为bash bang），则表示使用"),e("code",{pre:!0},[v._v("/bin/bash")]),v._v("解释执行此文件。如果没有这一行，有可能可以正常执行，但是使用expect的时候会出问题")]),v._v(" "),e("p",[v._v("执行方法：")]),v._v(" "),e("ul",[e("li",[v._v("给脚本文件赋予"),e("code",{pre:!0},[v._v("x")]),v._v("权限，然后使用路径执行")]),v._v(" "),e("li",[v._v("使用bash命令执行")])]),v._v(" "),e("p",[v._v("基本命令：")]),v._v(" "),e("ul",[e("li",[v._v("tab命令补全")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("history")]),v._v("查看历史命令\n"),e("ul",[e("li",[v._v("历史保存在"),e("code",{pre:!0},[v._v("~/.bash_history")]),v._v("中，重启也不会消失，但是此文件的内容可能不是最新的，需要退出登录的时候写入此文件。可以使用"),e("code",{pre:!0},[v._v("history -w")]),v._v("手动触发写入")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-c")]),v._v("清空历史，包括内存和文件中的历史。不建议使用。通常仅用于明文输入密码后清除痕迹")]),v._v(" "),e("li",[v._v("默认记录1000条历史。可以在"),e("code",{pre:!0},[v._v("/etc/profile")]),v._v("中修改"),e("code",{pre:!0},[v._v("HISTSIZE")]),v._v("来修改。因为历史保存在硬盘中而不是内存中，所以可以改大一点")]),v._v(" "),e("li",[v._v("上下箭头切换历史命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("!n")]),v._v("调用第"),e("code",{pre:!0},[v._v("n")]),v._v("条历史命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("!!")]),v._v("重复上一条命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("!")]),v._v("加字符串可以执行以此字符串开头的最近的命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("!$")]),v._v("重复上一条命令的最后一个参数")])])]),v._v(" "),e("li",[v._v("重定向\n"),e("ul",[e("li",[v._v("输出重定向\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v(">")]),v._v("覆盖文件")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v(">>")]),v._v("追加内容")]),v._v(" "),e("li",[v._v("文件指示符："),e("code",{pre:!0},[v._v("0")]),v._v("表示标准输入stdin，"),e("code",{pre:!0},[v._v("1")]),v._v("表示标准输出stdout，"),e("code",{pre:!0},[v._v("2")]),v._v("表示标准错误流stderr\n"),e("ul",[e("li",[v._v("使用文件指示符实现重定向："),e("code",{pre:!0},[v._v("2>")]),v._v("表示重定向标准错误流，"),e("code",{pre:!0},[v._v("&1")]),v._v("表示引用标准输出")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("command > file 2>&1")]),v._v("或"),e("code",{pre:!0},[v._v("command &> file")]),v._v("把标准输出和错误输出都保存在同一个文件\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("2>&1")]),v._v("中的"),e("code",{pre:!0},[v._v("2")]),v._v("和"),e("code",{pre:!0},[v._v(">")]),v._v("之间不能有空格，"),e("code",{pre:!0},[v._v(">")]),v._v("和"),e("code",{pre:!0},[v._v("&1")]),v._v("之间可以有空格")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("command >> file 2>&1")]),v._v("或"),e("code",{pre:!0},[v._v("command &>> file")]),v._v("把标准输出和错误输出都追加在同一个文件")])])])])]),v._v(" "),e("li",[v._v("输入重定向\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("<")]),v._v("，不常用")])])])])])]),v._v(" "),e("h3",{attrs:{id:"多命令与逻辑"}},[v._v("多命令与逻辑")]),v._v(" "),e("ul",[e("li",[v._v("顺序执行命令：使用"),e("code",{pre:!0},[v._v(";")]),v._v("分割命令。命令之间没有逻辑联系，不论前一个命令是否成功，后一个命令都会执行。仅用来把多个命令放在同一行")]),v._v(" "),e("li",[v._v("逻辑与："),e("code",{pre:!0},[v._v("&&")]),v._v("。前一个命令正确执行时后一个命令才会执行")]),v._v(" "),e("li",[v._v("逻辑或："),e("code",{pre:!0},[v._v("||")]),v._v("。前一个命令执行失败时后一个命令才会执行")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("command1 && command2 || command3")]),v._v("相当于C语言的"),e("code",{pre:!0},[v._v("command1 ? command2 : command3")])])]),v._v(" "),e("h3",{attrs:{id:"echo"}},[v._v("echo")]),v._v(" "),e("p",[e("code",{pre:!0},[v._v("echo [options] [content]")])]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("-e")]),v._v("支持反斜线控制字符转换")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-n")]),v._v("取消输出后行末的换行符")])]),v._v(" "),e("p",[v._v("颜色：")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("\\e[1;<color>")]),v._v("表示开始颜色输出")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\e[0m")]),v._v("表示结束颜色输出")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\e[1;31m abcd \\e[0m")]),v._v("表示用红色输出"),e("code",{pre:!0},[v._v("abcd")]),v._v("。其中"),e("code",{pre:!0},[v._v("31m")]),v._v("为红色")]),v._v(" "),e("li",[v._v("支持设置背景颜色")])]),v._v(" "),e("h3",{attrs:{id:"特殊符号"}},[v._v("特殊符号")]),v._v(" "),e("blockquote",[e("p",[v._v("关于"),e("code",{pre:!0},[v._v("[]")]),v._v("和"),e("code",{pre:!0},[v._v("{}")]),v._v("建议参考"),e("a",{attrs:{href:"/academic/LinuxProgrammingEnvironment/4"}},[v._v("大学的笔记")])])]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("''")]),v._v("，单引号中的所有特殊符号，比如"),e("code",{pre:!0},[v._v("$")]),v._v("和"),e("code",{pre:!0},[v._v("`")]),v._v("，都没有特殊含义")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v('""')]),v._v("，双引号中仅"),e("code",{pre:!0},[v._v("$")]),v._v("、"),e("code",{pre:!0},[v._v("`")]),v._v("、"),e("code",{pre:!0},[v._v("\\")]),v._v("保留特殊含义，分别是引用变量、调用命令、转义")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("``")]),v._v("，反引号中的内容会被作为命令执行。")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$()")]),v._v("，执行括号中的命令，和"),e("code",{pre:!0},[v._v("``")]),v._v("有相同的效果，但是使用此格式看起来更方便")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("()")]),v._v("，在子shell中执行括号中的命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("{}")]),v._v("，其实是命令"),e("code",{pre:!0},[v._v("{")]),v._v("和命令"),e("code",{pre:!0},[v._v("}")]),v._v("，所以记得加空格。在当前shell执行括号中的命令。可以用于变量变形与替换。\n"),e("ul",[e("li",[v._v("可以使用"),e("code",{pre:!0},[v._v("pstree")]),v._v("查看进程树")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("[]")]),v._v("，其实是命令"),e("code",{pre:!0},[v._v("[")]),v._v("和"),e("code",{pre:!0},[v._v("]")]),v._v("，所以记得加空格。相当于命令"),e("code",{pre:!0},[v._v("test")]),v._v("，用来逻辑判断")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("#")]),v._v("，注释")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$")]),v._v("，调用变量的值，如"),e("code",{pre:!0},[v._v("$name")]),v._v("就会得到"),e("code",{pre:!0},[v._v("name")]),v._v("的值。")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("${}")]),v._v("调用变量的值，和"),e("code",{pre:!0},[v._v("$")]),v._v("有相同的效果。"),e("code",{pre:!0},[v._v("${name}")]),v._v("和"),e("code",{pre:!0},[v._v("$name")]),v._v("的值相同")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\")]),v._v("，转义")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$(())")]),v._v("数学运算")])]),v._v(" "),e("h3",{attrs:{id:"变量和运算符"}},[v._v("变量和运算符")]),v._v(" "),e("h4",{attrs:{id:"概述-1"}},[v._v("概述")]),v._v(" "),e("p",[v._v("赋值："),e("code",{pre:!0},[v._v("<name>=<value>")]),v._v("，注意变量名和等号之间不能有空格，否则会视为命令")]),v._v(" "),e("p",[v._v("变量拼接："),e("code",{pre:!0},[v._v('name="$name"123')]),v._v("，或者"),e("code",{pre:!0},[v._v("name=${name}123")])]),v._v(" "),e("h4",{attrs:{id:"变量分类"}},[v._v("变量分类")]),v._v(" "),e("ul",[e("li",[v._v("用户自定义变量\n"),e("ul",[e("li",[v._v("不会在子shell中生效")])])]),v._v(" "),e("li",[v._v("环境变量\n"),e("ul",[e("li",[v._v("建议环境变量名大写")]),v._v(" "),e("li",[v._v("会在子shell中生效")])])]),v._v(" "),e("li",[v._v("位置参数变量\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("$n")]),v._v("，"),e("code",{pre:!0},[v._v("n")]),v._v("为数字，"),e("code",{pre:!0},[v._v("$0")]),v._v("表示命令本身，"),e("code",{pre:!0},[v._v("$1")]),v._v("-"),e("code",{pre:!0},[v._v("$9")]),v._v("表示第一个到第九个参数，十以上需要用大括号"),e("code",{pre:!0},[v._v("${10}")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$*")]),v._v("表示所有参数，且把所有参数视为整体")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$@")]),v._v("表示所有参数，但是把每个参数区分对待（相当于一个数组，用于循环语句）")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$#")]),v._v("表示参数个数（不包含命令本身）")])])]),v._v(" "),e("li",[v._v("预定义变量\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("$?")]),v._v("上一条命令的返回值。0表示上一条命令正常执行")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$$")]),v._v("当前进程的PID")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$!")]),v._v("后台运行的最后一个进程的PID")])])])]),v._v(" "),e("h4",{attrs:{id:"相关命令"}},[v._v("相关命令")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("set [options]")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("-u")]),v._v("如果设定此选项，调用未声明变量时会报错（shell默认行为是把未定义的变量视为空字符串）\n"),e("ul",[e("li",[v._v("使用"),e("code",{pre:!0},[v._v("+u")]),v._v("取消此选项")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-x")]),v._v("如果设定此选项，命令执行之前会把命令先输出一次\n"),e("ul",[e("li",[v._v("使用"),e("code",{pre:!0},[v._v("+x")]),v._v("取消此选项")])])]),v._v(" "),e("li",[v._v("直接使用"),e("code",{pre:!0},[v._v("set")]),v._v("命令可以查询系统中所有变量，包括用户自定义变量和环境变量（有些自定义变量和环境变量看不到），还有自定义函数")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("env")]),v._v("查看环境变量，无法查看用户自定义变量（有些环境变量看不到）")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("unset <var>")]),v._v("删除变量，可以删除环境变量")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("export <var>=<value>")]),v._v("或"),e("code",{pre:!0},[v._v("export <var>")]),v._v("设置环境变量\n"),e("ul",[e("li",[v._v("其实是使用了"),e("code",{pre:!0},[v._v("declare -x")])])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("read [options] [var]")]),v._v("提示用户输入\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("-p <msg>")]),v._v("显示提示信息")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-t <second>")]),v._v("等待时间")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-n <count>")]),v._v("字符数。用户不需要输入换行符")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-s")]),v._v("隐藏输入的数据")]),v._v(" "),e("li",[v._v("如果不提供变量名，则会保存在"),e("code",{pre:!0},[v._v("REPLY")]),v._v("变量中")]),v._v(" "),e("li",[v._v("如果仅提供一个变量名，则把整行放到变量中")]),v._v(" "),e("li",[v._v("如果提供多个变量名，则把输入行拆分，一个一个进行赋值")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("declare [+|-][options] <var>")]),v._v("声明变量类型与数值运算\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("-")]),v._v("给变量设置类型")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("+")]),v._v("取消变量的类型")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("a")]),v._v("数组")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("i")]),v._v("整型")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("r")]),v._v("只读。设置为只读后无法修改，无法删除，也无法取消只读。不推荐使用")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("x")]),v._v("环境变量")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("p")]),v._v("显示变量的类型")]),v._v(" "),e("li",[v._v("数值计算："),e("code",{pre:!0},[v._v("declare -i c=$a+$b")])]),v._v(" "),e("li",[v._v("数组赋值："),e("code",{pre:!0},[v._v('declare -a name[0]="123"')]),v._v(" "),e("ul",[e("li",[v._v("也可以直接"),e("code",{pre:!0},[v._v('name[0]="123"')])]),v._v(" "),e("li",[v._v("数组下标从0开始")]),v._v(" "),e("li",[v._v("如果只写数组名，输出数组第一个元素。使用"),e("code",{pre:!0},[v._v("name[*]")]),v._v("表示数组所有元素")])])])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("expr")]),v._v("数值运算\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("expr $a + $b")]),v._v("，注意运算符两侧必须有空格，因为运算符和数值都是"),e("code",{pre:!0},[v._v("expr")]),v._v("命令的参数")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("let")]),v._v("数值运算并赋值\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("let c=$a+$b")])])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("$(())")]),v._v("或"),e("code",{pre:!0},[v._v("$[]")]),v._v("进行数值运算（"),e("strong",[v._v("推荐使用"),e("code",{pre:!0},[v._v("$(())")])]),v._v("），对空格没有要求\n"),e("ul",[e("li",[v._v("例："),e("code",{pre:!0},[v._v("$(($a+$b))")])]),v._v(" "),e("li",[v._v("支持加减乘除、取模、逻辑运算、位运算")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("x=${y-<value>}")]),v._v("用来测试变量"),e("code",{pre:!0},[v._v("y")]),v._v(" "),e("ul",[e("li",[v._v("如果变量"),e("code",{pre:!0},[v._v("y")]),v._v("之前没有定义，则"),e("code",{pre:!0},[v._v("x=value")])]),v._v(" "),e("li",[v._v("如果变量"),e("code",{pre:!0},[v._v("y")]),v._v("为空，则"),e("code",{pre:!0},[v._v("x")]),v._v("为空")]),v._v(" "),e("li",[v._v("如果变量"),e("code",{pre:!0},[v._v("y")]),v._v("有值，则"),e("code",{pre:!0},[v._v("x=$y")])]),v._v(" "),e("li",[v._v("除了"),e("code",{pre:!0},[v._v("-")]),v._v("，还有"),e("code",{pre:!0},[v._v(":-")]),v._v("/"),e("code",{pre:!0},[v._v("+")]),v._v("/"),e("code",{pre:!0},[v._v(":+")]),v._v("/"),e("code",{pre:!0},[v._v("=")]),v._v("/"),e("code",{pre:!0},[v._v(":=")]),v._v("/"),e("code",{pre:!0},[v._v("?")]),v._v("/"),e("code",{pre:!0},[v._v(":?")])])])])]),v._v(" "),e("blockquote",[e("p",[v._v("查询环境变量时需要使用"),e("code",{pre:!0},[v._v("set")]),v._v("和"),e("code",{pre:!0},[v._v("env")]),v._v("都查一下，因为有些环境变量只会出现在其中的一个里面。或者直接用"),e("code",{pre:!0},[v._v("echo")]),v._v("输出一下")])]),v._v(" "),e("h4",{attrs:{id:"环境变量相关文件"}},[v._v("环境变量相关文件")]),v._v(" "),e("p",[v._v("主要环境变量配置文件：")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("/etc/profile")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("/etc/profile.d/*.sh")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("~/.bash_profile")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("~/.bashrc")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("/etc/bashrc")])])]),v._v(" "),e("p",[v._v("其中放在"),e("code",{pre:!0},[v._v("/etc")]),v._v("下的文件对所有用户生效，放在用户家目录的仅对当前用户生效")]),v._v(" "),e("blockquote",[e("p",[v._v("可以使用"),e("code",{pre:!0},[v._v("source <file>")]),v._v("或"),e("code",{pre:!0},[v._v(". <file>")]),v._v("执行配置文件使配置生效")])]),v._v(" "),e("p",[v._v("用户登录时：")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/profile")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/profile.d/*.sh")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/profile.d/lang.sh")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/sysconfig/i18n")])])])])])])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("~/.bash_profile")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("~/.bashrc")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/bashrc")])])])])])])]),v._v(" "),e("p",[v._v("非登录情况下（比如使用"),e("code",{pre:!0},[v._v("su")]),v._v("切换用户）：")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/bashrc")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/profile.d/*.sh")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/profile.d/lang.sh")]),v._v(" "),e("ol",[e("li",[e("code",{pre:!0},[v._v("/etc/sysconfig/i18n")])])])])])])])])]),v._v(" "),e("p",[v._v("注销时生效的环境变量配置文件："),e("code",{pre:!0},[v._v("~/.bash_logout")]),v._v("，可以用来清除历史记录，备份某些数据等")]),v._v(" "),e("p",[v._v("其他环境相关文件（并不是脚本）：")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("~/.bash_history")]),v._v("显示命令历史")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("/etc/issue")]),v._v("在登录tty1-tty6这六个本地终端时会显示的欢迎信息（输入密码之前）")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("/etc/issue.net")]),v._v("修改ssh登录时显示的欢迎信息（输入密码之前）")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("/etc/motd")]),v._v("用户登录之后的欢迎信息，不论本地终端还是ssh终端（输入正确密码之后）")])]),v._v(" "),e("h3",{attrs:{id:"重要的环境变量"}},[v._v("重要的环境变量")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("PATH")]),v._v("用来指定搜索命令的位置，不同的路径用"),e("code",{pre:!0},[v._v(":")]),v._v("隔开\n"),e("ul",[e("li",[v._v("添加路径："),e("code",{pre:!0},[v._v('PATH="$PATH":<path>')])])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("PS1")]),v._v("定义命令提示符的输出格式\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("\\d")]),v._v("日期")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\H")]),v._v("完整主机名")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\h")]),v._v("简写主机名")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\t")]),v._v("24小时制时间")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\u")]),v._v("当前用户名")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\w")]),v._v("当前位置的完整路径")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\W")]),v._v("当前位置的路径最后一个目录")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\#")]),v._v("执行的第几个命令")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("\\$")]),v._v("提示符。root用户为"),e("code",{pre:!0},[v._v("#")]),v._v("，普通用户为"),e("code",{pre:!0},[v._v("$")])]),v._v(" "),e("li",[v._v("比如可以设置输出格式为"),e("code",{pre:!0},[v._v("[\\u@\\h \\W]:\\$")]),v._v("，就可以使用"),e("code",{pre:!0},[v._v("PS1='[\\u@\\h \\W]:\\$'")]),v._v("，注意使用单引号")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("LANG")]),v._v("设置语系\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("locale")]),v._v("查看当前系统的语系")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("locale -a")]),v._v("查看本机支持的所有语系")]),v._v(" "),e("li",[v._v("使用文件"),e("code",{pre:!0},[v._v("/etc/sysconfig/i18n")]),v._v("设置系统默认语系")]),v._v(" "),e("li",[v._v("linux本机通常不支持中文，但是使用ssh客户端通常支持中文")])])])]),v._v(" "),e("h3",{attrs:{id:"定义快捷键"}},[v._v("定义快捷键")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("stty -a")]),v._v("查看所有快捷键")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("stty <keyword> <keys>")]),v._v("定义快捷键\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("keyword")]),v._v("是一系列已经定义的指令，如"),e("code",{pre:!0},[v._v("intr")]),v._v("，可以使用"),e("code",{pre:!0},[v._v("stty")]),v._v("查看")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("keys")]),v._v("直接手动输入即可，比如"),e("code",{pre:!0},[v._v("^p")]),v._v("表示"),e("code",{pre:!0},[v._v("Ctrl-P")])])])])]),v._v(" "),e("h3",{attrs:{id:"正则表达式略"}},[v._v("正则表达式（略）")]),v._v(" "),e("p",[v._v("正则表达式是用来匹配字符串的，通配符是用来匹配文件名的")]),v._v(" "),e("h3",{attrs:{id:"文本处理"}},[v._v("文本处理")]),v._v(" "),e("ul",[e("li",[e("code",{pre:!0},[v._v("cut [options] <file>")]),v._v("列提取命令\n"),e("ul",[e("li",[e("code",{pre:!0},[v._v("-f <num>")]),v._v("提取第几列。如果要指定多列，可以使用"),e("code",{pre:!0},[v._v(",")]),v._v("隔开")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-d <delimiter>")]),v._v("指定分隔符（默认为tab）")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("-c <range>")]),v._v("指定字符范围")])])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("printf")]),v._v("格式化输出")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("awk")]),v._v("复杂文本处理")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("sed")]),v._v("流处理")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("sort")]),v._v("排序")]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("uniq")]),v._v("去重，相当于"),e("code",{pre:!0},[v._v("sort -u")])]),v._v(" "),e("li",[e("code",{pre:!0},[v._v("wc")]),v._v("统计")])]),v._v(" "),e("h3",{attrs:{id:"条件判断略"}},[v._v("条件判断（略）")]),v._v(" "),e("h3",{attrs:{id:"控制流略"}},[v._v("控制流（略）")]),v._v(" "),e("h3",{attrs:{id:"退出程序"}},[v._v("退出程序")]),v._v(" "),e("p",[e("code",{pre:!0},[v._v("exit [return]")]),v._v("退出并返回"),e("code",{pre:!0},[v._v("return")]),v._v("。默认返回0")])])}]};v.exports={attributes:{title:"Linux Basic (part 6)",description:"shell编程",tags:["shell"]},vue:{render:e.render,staticRenderFns:e.staticRenderFns,component:{data:function(){return{templateRender:null}},render:function(v){return this.templateRender?this.templateRender():v("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}}}]);