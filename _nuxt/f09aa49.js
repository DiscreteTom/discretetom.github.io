(window.webpackJsonp=window.webpackJsonp||[]).push([[73,612,613,614],{1326:function(t,e,n){const r={render:function(){var t=this;t.$createElement;return t._self._c,t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"frontmatter-markdown"},[r("h2",{attrs:{id:"基础结构化查询"}},[t._v("基础结构化查询")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" A1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" A2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" An "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" r1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" r2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rm "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" P\n")])]),t._v(" "),r("p",[t._v("其中A1…An是属性，r1…rm是关系，P是条件")]),t._v(" "),r("p",[t._v("以上语句相当于关系代数的：")]),t._v(" "),r("p",[r("img",{attrs:{src:n(766),alt:""}})]),t._v(" "),r("p",[r("strong",[t._v("SQL语句的结果也是一个关系")])]),t._v(" "),r("p",[t._v("可以看出：")]),t._v(" "),r("ul",[r("li",[t._v("from关键字对应的操作是笛卡尔乘积")]),t._v(" "),r("li",[t._v("where关键字对应的操作是选择")]),t._v(" "),r("li",[t._v("select关键字对应的操作是投影（支持广义投影")])]),t._v(" "),r("h3",{attrs:{id:"关于select部分"}},[t._v("关于select部分")]),t._v(" "),r("p",[t._v("可以使用"),r("code",{pre:!0},[t._v("select *")]),t._v("表示查询所有属性")]),t._v(" "),r("p",[t._v("使用广义投影时，建议配合重命名操作，关键字为"),r("code",{pre:!0},[t._v("as")]),t._v("，如：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" salary "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" monthly_salary "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n")])]),t._v(" "),r("p",[t._v("SQL语句的查重是可选的。如果要去重，使用关键字"),r("code",{pre:!0},[t._v("distinct")]),t._v("。如果不去重，使用关键字"),r("code",{pre:!0},[t._v("all")]),t._v("。默认不去重")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("distinct")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n")])]),t._v(" "),r("p",[t._v("select语句可以使用常量，如"),r("code",{pre:!0},[t._v("select attr1, 1, '123', null from table_name;")])]),t._v(" "),r("h3",{attrs:{id:"关于where部分"}},[t._v("关于where部分")]),t._v(" "),r("p",[t._v("可以使用的条件包括：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v(">, <, >=, <=, =")])])]),t._v(" "),r("p",[t._v("可以使用的关键字：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("and/or/not")]),t._v("拼接条件")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("between...and...")]),t._v("指定范围，如"),r("code",{pre:!0},[t._v("where salary between 100 and 200")])])]),t._v(" "),r("p",[t._v("支持元组比较："),r("code",{pre:!0},[t._v("where (name, salary) = ('Tom', 1000)")])]),t._v(" "),r("h3",{attrs:{id:"关于from部分"}},[t._v("关于from部分")]),t._v(" "),r("p",[t._v("因为from代表了笛卡尔乘积，所以会非常占用空间。通常不直接使用笛卡尔乘积，可以和where配合使用，变成连接操作")]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" course_id "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" teaches "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" instructor"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" teaches"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID\n")])]),t._v(" "),r("p",[t._v("以上便使用了内连接操作")]),t._v(" "),r("h3",{attrs:{id:"重命名"}},[t._v("重命名")]),t._v(" "),r("p",[t._v("在select和from部分都可以重命名：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" salary "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" monthly_salary\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" instructor "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" S\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" T"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("salary "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" S"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("salary\n")])]),t._v(" "),r("p",[t._v("可以看出同一个关系可以拥有多个"),r("strong",[t._v("别名Alias")]),t._v("。关键字"),r("code",{pre:!0},[t._v("as")]),t._v("其实可以省略，比如可以直接写"),r("code",{pre:!0},[t._v("instructor T")])]),t._v(" "),r("h3",{attrs:{id:"字符串操作"}},[t._v("字符串操作")]),t._v(" "),r("p",[t._v("匹配时可以模糊匹配，支持下面两个元字符：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("%")]),t._v(" - 匹配任意子串")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("_")]),t._v(" - 匹配任意字符")])]),t._v(" "),r("p",[t._v("在where后面可以使用"),r("code",{pre:!0},[t._v("like")]),t._v("关键字模糊匹配，如搜索含有"),r("code",{pre:!0},[t._v("dar")]),t._v("的字符串：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%dar%'")]),t._v("\n")])]),t._v(" "),r("p",[t._v("如果要匹配元字符，则需要转义，比如需要搜索以"),r("code",{pre:!0},[t._v("main%")]),t._v("开头的字符串：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main\\%'")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("escape")]),t._v(" '\\'\n")])]),t._v(" "),r("p",[t._v("支持的字符串操作（略）：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("||")]),t._v(" - 字符串拼接")]),t._v(" "),r("li",[t._v("大小写转换")]),t._v(" "),r("li",[t._v("求长度")]),t._v(" "),r("li",[t._v("取子串")]),t._v(" "),r("li",[t._v("…")])]),t._v(" "),r("h3",{attrs:{id:"排序"}},[t._v("排序")]),t._v(" "),r("p",[t._v("使用关键字"),r("code",{pre:!0},[t._v("order by")])]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("distinct")]),t._v(" name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("order")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" name\n")])]),t._v(" "),r("p",[t._v("可以使用关键字"),r("code",{pre:!0},[t._v("desc")]),t._v(" & "),r("code",{pre:!0},[t._v("asc")]),t._v("表示降序与升序。默认升序。例："),r("code",{pre:!0},[t._v("order by name desc")])]),t._v(" "),r("h3",{attrs:{id:"集合操作"}},[t._v("集合操作")]),t._v(" "),r("p",[t._v("关键字包括：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("union")]),t._v(" - 并集")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("intersect")]),t._v(" - 交集")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("except")]),t._v(" - 差")])]),t._v(" "),r("p",[t._v("集合操作默认"),r("strong",[t._v("去重")]),t._v("。如果不想去重，使用"),r("code",{pre:!0},[t._v("union/intersect/except all")])]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" course_idfrom section "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sem"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ‘Fall’ "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2009")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" course_idfrom section "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sem"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ‘Spring’ "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2010")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"聚集函数"}},[t._v("聚集函数")]),t._v(" "),r("ul",[r("li",[t._v("avg")]),t._v(" "),r("li",[t._v("min")]),t._v(" "),r("li",[t._v("max")]),t._v(" "),r("li",[t._v("sum")]),t._v(" "),r("li",[t._v("count")])]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T\n")])]),t._v(" "),r("p",[t._v("可以使用"),r("code",{pre:!0},[t._v("count(*)")]),t._v("查询个数（因为*会把所有元组视为1")]),t._v(" "),r("p",[t._v("通常也会配合重命名操作使用")]),t._v(" "),r("p",[t._v("可以使用关键字"),r("code",{pre:!0},[t._v("group by")]),t._v("来对关系内元组进行分类：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" avg_salary\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" salary "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept_name\n")])]),t._v(" "),r("p",[r("strong",[t._v("要求")]),t._v(" - select语句中聚集函数之外的属性必须出现在group by中。反例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept_name\n")])]),t._v(" "),r("p",[t._v("以上语句会导致错误，因为ID被聚集了无法表示")]),t._v(" "),r("p",[t._v("关键字"),r("code",{pre:!0},[t._v("having")]),t._v("可以对聚集的条件进行筛选，例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" T\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept_name\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("having")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n")])]),t._v(" "),r("p",[r("code",{pre:!0},[t._v("having")]),t._v("和"),r("code",{pre:!0},[t._v("where")]),t._v("的区别：having是对结果（即各个group）的筛选，where是对原数据（即各个tuple）的筛选")]),t._v(" "),r("h3",{attrs:{id:"空值"}},[t._v("空值")]),t._v(" "),r("p",[t._v("使用"),r("code",{pre:!0},[t._v("null")]),t._v("表示")]),t._v(" "),r("p",[t._v("与空值有关的计算都返回null")]),t._v(" "),r("p",[t._v("使用关键字"),r("code",{pre:!0},[t._v("is null")]),t._v("和"),r("code",{pre:!0},[t._v("is not null")]),t._v("判断是否是"),r("code",{pre:!0},[t._v("null")])]),t._v(" "),r("p",[t._v("例："),r("code",{pre:!0},[t._v("where salary is null")])]),t._v(" "),r("p",[t._v("关于聚集函数：")]),t._v(" "),r("ul",[r("li",[t._v("sum如果内容全是null则返回null，否则忽略null")]),t._v(" "),r("li",[t._v("count(*)不忽略null")]),t._v(" "),r("li",[t._v("如果全null，则count(*)返回0，其他聚集函数返回null")]),t._v(" "),r("li",[t._v("其他情况忽略null")])]),t._v(" "),r("h2",{attrs:{id:"嵌套查询"}},[t._v("嵌套查询")]),t._v(" "),r("h3",{attrs:{id:"概述"}},[t._v("概述")]),t._v(" "),r("p",[t._v("对于查询语句："),r("code",{pre:!0},[t._v("select A1, ..., An, from r1, ... rm where P")])]),t._v(" "),r("ul",[r("li",[t._v("A1…An可以被替换为"),r("strong",[t._v("返回一个值")]),t._v("的子查询")]),t._v(" "),r("li",[t._v("r1…rm可以被替换为任意子查询")]),t._v(" "),r("li",[t._v("P可以被替换为"),r("code",{pre:!0},[t._v("B <operation>(subquery)")])])]),t._v(" "),r("h3",{attrs:{id:"where中的子查询"}},[t._v("where中的子查询")]),t._v(" "),r("p",[t._v("子查询通常是用来：")]),t._v(" "),r("ul",[r("li",[t._v("判断是否在另一个集合中\n"),r("ul",[r("li",[t._v("使用关键字"),r("code",{pre:!0},[t._v("in")]),t._v(" & "),r("code",{pre:!0},[t._v("not in")])]),t._v(" "),r("li",[t._v("支持元组比较")]),t._v(" "),r("li",[t._v("格式："),r("code",{pre:!0},[t._v("where (att1, ..., attn) in (subquery)")])])])]),t._v(" "),r("li",[t._v("集合比较\n"),r("ul",[r("li",[t._v("使用关键字"),r("code",{pre:!0},[t._v("some")]),t._v(" & "),r("code",{pre:!0},[t._v("all")])]),t._v(" "),r("li",[t._v("比如："),r("code",{pre:!0},[t._v("where salary > some(select salary from T)")])]),t._v(" "),r("li",[t._v("针对上例，只要大于其中的1个就判断为真")]),t._v(" "),r("li",[t._v("操作符可以是"),r("code",{pre:!0},[t._v("<, <=, >, >=, =, !=")])]),t._v(" "),r("li",[r("img",{attrs:{src:n(767),alt:""}})]),t._v(" "),r("li",[t._v("类似地，可以使用关键字"),r("code",{pre:!0},[t._v("all")]),t._v("，如"),r("code",{pre:!0},[t._v("where salary > all(subquery)")])])])]),t._v(" "),r("li",[t._v("判空\n"),r("ul",[r("li",[t._v("使用"),r("code",{pre:!0},[t._v("exists")]),t._v(" & "),r("code",{pre:!0},[t._v("not exists")])]),t._v(" "),r("li",[t._v("判断子查询是否为空")]),t._v(" "),r("li",[t._v("格式："),r("code",{pre:!0},[t._v("where exists(subquery)")])])])]),t._v(" "),r("li",[t._v("判重\n"),r("ul",[r("li",[t._v("使用"),r("code",{pre:!0},[t._v("unique")])]),t._v(" "),r("li",[t._v("判断子查询中是否有重复元组")]),t._v(" "),r("li",[t._v("格式："),r("code",{pre:!0},[t._v("where unique(subquery)")])])])])]),t._v(" "),r("h3",{attrs:{id:"from中的子查询"}},[t._v("from中的子查询")]),t._v(" "),r("p",[t._v("子查询也可以使用"),r("code",{pre:!0},[t._v("as")]),t._v("命名，例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" avg_salary "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept_name\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" dept_avg"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" avg_salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" avg_salary "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("42000")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"select中的子查询"}},[t._v("select中的子查询")]),t._v(" "),r("p",[t._v("标量子查询(scalar subquery) - 结果只有一个元组的查询")]),t._v(" "),r("p",[t._v("select子查询必须是标量子查询。如果查询结果多于一个则报错runtime error")]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" department"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dept_name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" instructor"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dept_name\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" num_instructors "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" department"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("p",[t._v("主查询每执行一步，子查询都要执行一次")]),t._v(" "),r("h3",{attrs:{id:"使用with生成临时关系"}},[t._v("使用with生成临时关系")]),t._v(" "),r("p",[t._v("临时关系仅在一个查询中生效，例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" max_budget"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("budget"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" department\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" department"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" department"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_budget\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" department"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("budget "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" max_budget"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("p",[t._v("可以生成多个临时关系：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" dept _total "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" instructor\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept_name\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dept_total_avg"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept_total\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" dept_name\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept_total"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dept_total_avg\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" dept_total"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dept_total_avg"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"相关子查询与无关子查询"}},[t._v("相关子查询与无关子查询")]),t._v(" "),r("p",[t._v("相关子查询 - 子查询内部需要用到主查询中定义的东西")]),t._v(" "),r("p",[t._v("无关子查询 - 可以忽略主查询直接执行的子查询")]),t._v(" "),r("p",[t._v("处理无关子查询时，先进行子查询，然后进行主查询")]),t._v(" "),r("p",[t._v("处理相关子查询时，因为需要用到主查询的数据，所以主查询每查询一个元组，子查询需要查询一次。所以相关子查询会执行若干遍")]),t._v(" "),r("h3",{attrs:{id:"查询总语法"}},[t._v("查询总语法")]),t._v(" "),r("p",[r("img",{attrs:{src:n(768),alt:""}})]),t._v(" "),r("h2",{attrs:{id:"ddl"}},[t._v("DDL")]),t._v(" "),r("p",[t._v("Data Definition Language")]),t._v(" "),r("h3",{attrs:{id:"新建表"}},[t._v("新建表")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" table_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  A1 D1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" A2 D2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" An Dn"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integrity_constrant1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integrity_constrant2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integrity_constrantk"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("p",[t._v("A1…An是属性名，D1…Dn是属性的数据类型")]),t._v(" "),r("p",[t._v("完整性约束包括：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("not null")]),t._v("非空")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("primary key(Am, ..., An)")]),t._v("设置主键")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("Foreign Key(Am, ..., An) reference table table_name on delete restrict/cascade/set NULL")]),t._v("设置外键。可选级联删除或置空")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("check(P)")]),t._v("设置一个check条件")])]),t._v(" "),r("p",[t._v("例：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" takes"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  ID "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  course_id "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  sec_id "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  semester "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("numeric")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  grade "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" course_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sec_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" semester"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreign")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("references")]),t._v(" student"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreign")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("course_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sec_id"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" semester"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("references")]),t._v(" section\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("p",[t._v("常见数据类型：")]),t._v(" "),r("ul",[r("li",[r("code",{pre:!0},[t._v("char(n)")]),t._v(" - 定长字符串")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("varchar(n)")]),t._v(" - 边长字符串，最大长度n")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("int")]),t._v(" - 整数，范围依赖机器")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("smallint")]),t._v(" - 小范围整数，范围依赖机器")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("numeric(p, d)")]),t._v(" - 定点数，小数点左边p位，右边d位")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("real")]),t._v(" - 浮点数，范围依赖机器")]),t._v(" "),r("li",[r("code",{pre:!0},[t._v("double precision")]),t._v(" - 双精度浮点数，范围依赖机器")])]),t._v(" "),r("h3",{attrs:{id:"删除表"}},[t._v("删除表")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" table_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"修改表"}},[t._v("修改表")]),t._v(" "),r("p",[t._v("添加属性")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("alter")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" table_name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add")]),t._v(" A D"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"dml"}},[t._v("DML")]),t._v(" "),r("p",[t._v("Data Modification Language")]),t._v(" "),r("h3",{attrs:{id:"deletion"}},[t._v("Deletion")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" table_name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" P\n")])]),t._v(" "),r("h3",{attrs:{id:"insertion"}},[t._v("Insertion")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" table_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("att1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" att2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" attn"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valuen"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("p",[t._v("可以把查询的结果给insert")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" table_name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),r("h3",{attrs:{id:"update"}},[t._v("update")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("update")]),t._v(" table_name\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" att1 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value1\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" P\n")])]),t._v(" "),r("p",[t._v("使用"),r("code",{pre:!0},[t._v("case")]),t._v("实现条件更新")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("update")]),t._v(" table_name\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" attr "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v(" statement1 "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" value1\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" value2\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),t._v(" "),r("h2",{attrs:{id:"索引index"}},[t._v("索引Index")]),t._v(" "),r("p",[t._v("创建索引：")]),t._v(" "),r("pre",{staticClass:"language-sql"},[r("code",{pre:!0,attrs:{class:"language-sql"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" index_name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" table_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("attrs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unique")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" index_name "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" table_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("attrs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" index_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}]};t.exports={attributes:{layout:"collection",title:"SQL",collection:"DatabaseConcept"},vue:{render:r.render,staticRenderFns:r.staticRenderFns,component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=r.render,this.$options.staticRenderFns=r.staticRenderFns}}}}},766:function(t,e,n){t.exports=n.p+"img/3-1.524137d.png"},767:function(t,e,n){t.exports=n.p+"img/3-2.816a3af.png"},768:function(t,e,n){t.exports=n.p+"img/3-3.3bf19e5.png"}}]);