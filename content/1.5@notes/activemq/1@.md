---
title: 概述
---

## 前言

本文是观看[此视频](https://www.bilibili.com/video/BV164411G7aB/)时的笔记

## MQ 概述

## 常见 MQ

- Kafka
- RabbitMQ
- RocketMQ
- ActiveMQ

### MQ 常见功能

- 消息发送/接受
- 高可用，集群部署，容错
- 持久化
- 延迟发送/定时投递
- 签收机制/精准一次投递

### 为什么引入 MQ

- 同步调用改为异步调用
  - 解耦，提升容错，避免一个环节的错误导致整个系统不可用
- 流量整形，削峰填谷

> 比如：对于一个电商秒杀的业务逻辑，可能包含以下步骤：
>
> 1. 读取订单
> 2. 库存检查
> 3. 库存冻结
> 4. 余额检查
> 5. 余额冻结
> 6. 订单生成
> 7. 余额扣减
> 8. 库存扣减
> 9. 生成流水
> 10. 余额解冻
> 11. 库存解冻
>
> 不同环节都需要考虑错误处理。如果使用同步调用，如果其中一个环节出错，那么整个流程都会失败，需要进行回滚。而使用异步调用，可以将每个环节的错误进行记录，然后进行补偿，而不需要回滚整个流程。
>
> 除此之外，上下游应用通过 MQ 解耦之后，也不需要互相感知，可以实现分别扩展容量，或者添加/减少功能

## ActiveMQ 概述

- 使用 Java 开发
- 默认端口 61616
- Web UI: http://localhost:8161/admin
